(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[3],{303:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(37),o=a(38),r=a(40),l=a(39),s=a(41),i=a(0),c=a.n(i),u=a(32),p=a(12),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(s.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return console.log(this.props),this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),a}(c.a.Component);return Object(p.b)(m)(t)}},304:function(e,t,a){e.exports={content:"ProfileInfo_content__2ulmU",avatar:"ProfileInfo_avatar__Sdb2x"}},305:function(e,t,a){e.exports={item:"MyPost_item__1YJKB"}},307:function(e,t,a){"use strict";a.r(t);var n=a(37),o=a(38),r=a(40),l=a(39),s=a(41),i=a(0),c=a.n(i),u=a(103),p=a(304),m=a.n(p),f=a(69),d=function(e){var t=Object(i.useState)(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],r=Object(i.useState)(e.status),l=Object(u.a)(r,2),s=l[0],p=l[1];Object(i.useEffect)((function(){p(e.status)}),[e.status]);return c.a.createElement("div",null,!n&&c.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"here can be your status..."),n&&c.a.createElement("input",{onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(s)},value:s,type:"text"}))},b=(a(26),a(24)),h=a(135),E=a(64),g=a(43),v=a.n(g),j=Object(h.a)({form:"dataForm"})((function(e){console.log(e);var t=e.handleSubmit,a=e.pristine,n=(e.reset,e.submitting);e.error;return c.a.createElement("form",{onSubmit:t},e.ownerId&&c.a.createElement("button",{disabled:a||n},"Save"),c.a.createElement("div",null,Object(b.a)("","fullName",[E.b],b.b,{type:"text",label:"Full Name:"})),c.a.createElement("div",null,Object(b.a)("","lookingForAJob",[],b.b,{type:"checkbox",label:"Looking for a job:"})),Object(b.a)("","lookingForAJobDescription",[],b.c,{type:"text",label:"My professional skills:"}),Object(b.a)("","aboutMe",[],b.c,{type:"text",label:"About me:"}),c.a.createElement("div",null,c.a.createElement("b",null,"Contact:"),Object.keys(e.profile.contacts).map((function(e){return c.a.createElement("div",{key:e},Object(b.a)("","contacts."+e,[],b.b,{type:"text",label:"".concat(e,":")}))})),e.error&&c.a.createElement("div",{className:v.a.formSummeryError},e.error)))})),O=a(18),P=function(e){return c.a.createElement("div",null,e.ownerId&&c.a.createElement("button",{onClick:e.setStateEditMode},"Edit"),c.a.createElement("div",null,c.a.createElement("b",null,"Full name:"),e.profile.fullName),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job:"),e.profile.lookingForAJob?"yes":"no"," "),e.profile.lookingForAJob&&c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription),c.a.createElement("div",null,c.a.createElement("b",null,"About me:")," ",e.profile.aboutMe),c.a.createElement("div",null,c.a.createElement("b",null,"Contact:"),Object.keys(e.profile.contacts).map((function(t){return c.a.createElement(y,{key:t,contactsTitle:t,contactsValue:e.profile.contacts[t]})}))))},y=function(e){var t=e.contactsTitle,a=e.contactsValue;return c.a.createElement("div",null,c.a.createElement("b",null,t,":")," ",c.a.createElement("span",null,a))},I=function(e){if(console.log(e),!e.profile)return c.a.createElement(f.a,null);var t=Object(i.useState)(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],r=Object(i.useState)(!1),l=Object(u.a)(r,2),s=(l[0],l[1]);return c.a.createElement("div",null,c.a.createElement("div",{className:m.a.avatar},c.a.createElement("img",{src:e.profile.photos.large||e.photo,alt:""})),e.ownerId?c.a.createElement("div",null,c.a.createElement("input",{type:"file",name:"myImage",onChange:function(t){t.preventDefault(),t.target.files.length&&e.setPhotoApi(t.target.files[0])}})):c.a.createElement(O.b,{to:"/dialogs/"+e.id,onClick:function(){s(!0)},className:m.a.dialog,activeClassName:m.a.active},"Message"),c.a.createElement(d,{status:e.status,updateStatus:e.updateStatus}),n?c.a.createElement(j,{initialValues:e.profile,ownerId:e.ownerId,profile:e.profile,onSubmit:function(t){console.log(t),e.saveProfile(t).then((function(){o(!1)}))}}):c.a.createElement(P,{ownerId:e.ownerId,setStateEditMode:function(){o(!0)},profile:e.profile}))},S=a(101),k=a(305),A=a.n(k),x=function(e){return c.a.createElement("div",{className:A.a.item},c.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQIeKxpjPeCtvBoU7BD3oxt0ZdwtmynAqlpR15w2bHTA2oyJhZU",alt:""}),e.massage,c.a.createElement("span",null,e.like))},w=a(93),U=a(28),N=Object(h.a)({form:"login",onSubmitSuccess:function(e,t){return t(Object(U.a)("login"))}})((function(e){e.handleSubmit,e.load,e.pristine,e.reset,e.submitting,e.createRecord,e.resetForm;return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(w.a,{name:"post_text",component:b.c,validate:[E.b,E.a]})),c.a.createElement("button",{disabled:e.pristine||e.submitting},"Add post"))})),C=function(e){console.log("props");var t=e.posts.map((function(e,t){return c.a.createElement(x,{massage:e.massage,id:t+1,like:e.like})}));c.a.createRef();return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null," My post")),c.a.createElement(N,{onSubmit:function(t){console.log(t);var a=e.posts.length+1,n=t.post_text;e.addPostText(a,n),e.updateNewPostText(n)},text:e.NewPostText}),c.a.createElement("div",null,t))},F=a(12),T=Object(F.b)((function(e){return{posts:e.profilePage.postInfo,newPostText:e.profilePage.newPostText}}),{addPostText:S.a,updateNewPostText:S.g})(C),_=function(e){return console.log(e),c.a.createElement("div",null,c.a.createElement(I,{saveProfile:e.saveProfile,ownerId:e.ownerId,id:e.match.params.userId,getUsersProfile:e.getUsersProfile,setPhotoApi:e.setPhotoApi,profile:e.profile,authorizedUserId:e.authorizedUserId,photo:e.photo,status:e.status,updateStatus:e.updateStatus}),c.a.createElement(T,null))},M=a(32),J=(a(303),a(10)),D=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(r.a)(this,Object(l.a)(t).call(this,e)),console.log(a.props),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"changeUserId",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUsersProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(e){this.changeUserId()}},{key:"componentDidUpdate",value:function(e,t,a){console.log(e),this.props.match.params.userId!=e.match.params.userId&&this.changeUserId()}},{key:"render",value:function(){return!1===this.props.isAuth&&"/profile"===this.props.location.pathname?c.a.createElement(M.a,{to:"/login"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(_,Object.assign({setPhotoApi:this.props.setPhotoApi},this.props,{profile:this.props.profile,status:this.props.status,getUsersProfile:this.props.getUsersProfile,updateStatus:this.props.updateStatus,ownerId:!this.props.match.params.userId,id:this.props.match.params.userId,saveProfile:this.props.saveProfile}))))}}]),t}(c.a.Component);t.default=Object(J.d)(Object(F.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,photo:e.profilePage.photo}}),{getUsersProfile:S.d,getStatus:S.c,updateStatus:S.h,setPhotoApi:S.f,saveProfile:S.e}),M.f)(D)}}]);
//# sourceMappingURL=3.7ad00abe.chunk.js.map